{# templates/index.html #}
{% extends "base.html" %}
{% block title %}index{% endblock %}
{% block body_class %}home-page{% endblock %}

{% block content %}
<h1>การบริหารยาในทารกแรกเกิด</h1>

{# ปุ่มที่เช็คว่า endpoint มีจริงไหม ค่อยลิงก์ #}
{% macro safe_button(endpoint, img_src, alt_text, label, sublabel) -%}
  {%- set has_ep = endpoint in current_app.view_functions %}
  <a href="{{ url_for(endpoint) if has_ep else '#' }}"
     class="button home-button"
     {{ '' if has_ep else 'aria-disabled=true tabindex=-1' }}>
    <img src="{{ img_src }}" alt="{{ alt_text }}">
    <span>{{ label }}<br><small>{{ sublabel }}</small></span>
  </a>
{%- endmacro %}

<div class="home-grid">
  {{ safe_button(
      'calculate_pma_route',
      'https://cdn.jsdelivr.net/gh/060531/images/Photoroom_002_25670829_212123.png',
      'Dose ยา',
      'Dose ยา',
      '(Right patient)'
  ) }}

  {{ safe_button(
      'compatibility_page',
      'https://cdn.jsdelivr.net/gh/060531/images/compability.png',
      'compatibility',
      'Compatibility',
      '(Right drug)'
  ) }}

  {{ safe_button(
      'medication_administration',
      'https://cdn.jsdelivr.net/gh/060531/images/Photoroom_000_25670829_212123.png',
      'การบริหารยา',
      'การบริหารยา',
      '(Right dose)'
  ) }}

  {{ safe_button(
      'time_management_route',
      'https://cdn.jsdelivr.net/gh/060531/images/IMG_3227.png',
      'การบริหารเวลา',
      'การบริหารเวลา',
      '(Right time)'
  ) }}
</div>
{% endblock %}
